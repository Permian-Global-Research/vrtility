<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Data Structures and Terminology ‚Ä¢ vrtility</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Structures and Terminology">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vrtility</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cdse-sentinel-2.html">Copernicus Data Space Ecosystem Sentinel-2</a></li>
    <li><a class="dropdown-item" href="../articles/data-structures-and-terminology.html">Data Structures and Terminology</a></li>
    <li><a class="dropdown-item" href="../articles/Digital-Earth-Africa-GeoMAD.html">Digital Earth Africa GeoMAD</a></li>
    <li><a class="dropdown-item" href="../articles/EOPF.html">EOPF Sentinel-2 Level-2A</a></li>
    <li><a class="dropdown-item" href="../articles/HLS.html">Harmonized Landsat Sentinel-2</a></li>
    <li><a class="dropdown-item" href="../articles/ndvi-timeseries.html">Creating NDVI Time Series from HLS Data</a></li>
    <li><a class="dropdown-item" href="../articles/OmniCloudMask.html">OmniCloudMask</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Permian-Global-Research/vrtility/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Data Structures and Terminology</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Permian-Global-Research/vrtility/blob/main/vignettes/data-structures-and-terminology.Rmd" class="external-link"><code>vignettes/data-structures-and-terminology.Rmd</code></a></small>
      <div class="d-none name"><code>data-structures-and-terminology.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://permian-global-research.github.io/vrtility/">vrtility</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">‚úî</span> Using GDAL version 3.8.4</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">‚Ñπ</span> GDAL_CACHEMAX set to 1.562 GiB; to change this use</span></span>
<span><span class="co">#&gt;   vrtility::<span style="font-weight: bold;">set_gdal_cache_max</span><span style="color: #D7AF00;">()</span></span></span></code></pre></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>vrtility</code> package is built around three core data
structures that represent virtual rasters at different levels of
organization: <strong><code>vrt_block</code></strong>,
<strong><code>vrt_collection</code></strong>, and
<strong><code>vrt_stack</code></strong>. Understanding these structures
is key to working effectively with the package‚Äôs VRT-based pipelines.
Figure 1 provides a visual overview of these data structures and their
relationships. which are discussed in detail below.</p>
<div class="figure">
<img src="figure/data-concepts.svg" class="r-plt" alt="Figure 1: Core data structures in vrtility: `vrt_block`, `vrt_collection`, and `vrt_stack`. Red, green, and blue lines represent raster bands; black boxes represent VRT files; t* labels indicate discrete epochs (time steps)." width="100%"><p class="caption">
Figure 1: Core data structures in vrtility: <code>vrt_block</code>,
<code>vrt_collection</code>, and <code>vrt_stack</code>. Red, green, and
blue lines represent raster bands; black boxes represent VRT files; t*
labels indicate discrete epochs (time steps).
</p>
</div>
<p>There is considerable jargon in the GIS world regarding
multidimensional raster data. The term ‚Äúdata cube‚Äù is commonly used for
spatiotemporal rasters, but we feel this metaphor breaks down for
multiband/multi-spectral data. In reality, we have interconnected
‚Äúcubes‚Äù linked by a space-time index. We prefer ‚Äústack‚Äù over ‚Äúcube‚Äù when
referring to the temporal dimension of our data, aligning with GDAL
terminology and establishing a clearer mental model.</p>
<p>However, ‚Äústacking‚Äù sometimes refers to adding bands to a multiband
raster. <strong>For clarity: in vrtility, ‚Äústack‚Äù always refers to
aligning bands representing the same phenomenon across multiple time
steps into a single virtual raster.</strong></p>
</div>
<div class="section level2">
<h2 id="core-data-structures">Core Data Structures<a class="anchor" aria-label="anchor" href="#core-data-structures"></a>
</h2>
<div class="section level3">
<h3 id="vrt_block-the-basic-building-block">vrt_block: The Basic Building Block üòâ<a class="anchor" aria-label="anchor" href="#vrt_block-the-basic-building-block"></a>
</h3>
<p>A <strong><code>vrt_block</code></strong> represents a single virtual
raster (VRT) with one or more bands. It is the fundamental unit in
vrtility‚Äôs pipeline system.</p>
<p><strong>Key characteristics:</strong></p>
<ul>
<li><p>Contains a single VRT XML definition</p></li>
<li><p>Has a single spatial reference system (SRS)</p></li>
<li><p>Contains one or more raster bands (e.g., B02, B03, B04)</p></li>
<li><p>Can be created from one or more data sources.</p></li>
<li><p>May include metadata like timestamps and no-data values</p></li>
<li><p>Stores optional mask and pixel functions</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load example Sentinel-2 data</span></span>
<span><span class="va">s2files</span> <span class="op">&lt;-</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_ls.html" class="external-link">dir_ls</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"s2-data"</span>, package <span class="op">=</span> <span class="st">"vrtility"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a vrt_collection and extract the first block</span></span>
<span><span class="va">ex_collect</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vrt_collect.html">vrt_collect</a></span><span class="op">(</span><span class="va">s2files</span>, datetimes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"2020-01-01T10:15:30Z"</span>, <span class="co"># dates made up for example</span></span>
<span>  <span class="st">"2020-02-01T10:15:30Z"</span>,</span>
<span>  <span class="st">"2020-03-01T10:15:30Z"</span>,</span>
<span>  <span class="st">"2020-04-01T10:15:30Z"</span>,</span>
<span>  <span class="st">"2020-05-01T10:15:30Z"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">single_block</span> <span class="op">&lt;-</span> <span class="va">ex_collect</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Print the block to see its structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">single_block</span><span class="op">)</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">&lt;VRT Block&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">VRT XML: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, xml = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["OSGB36 / British National Grid",GEOGCS["OSGB36",DATUM["Ordnance_Survey_of_Great_Britain_1936",SPHEROID["Airy 1830",6377563.396,299.3249646,AUTHORITY["EPSG","7001"]],AUTHORITY["EPSG","6277"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4277"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",49],PARAMETER["central_meridian",-2],PARAMETER["scale_factor",0.9996012717],PARAMETER["false_easting",400000],PARAMETER["false_northing",-100000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","27700"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> 289813.58 88876.43 297031.04 95714.02</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Pixel res:</span> 19.9929669011164, 19.9929669011164</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08, SCL</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">No Data Value(s):</span> 0, 0, 0, 0, 0</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Date Time:</span> 2020-01-01 10:15:30 UTC</span></span></code></pre></div>
<p>A <code>vrt_block</code> contains:</p>
<ul>
<li><p><code>vrt</code>: The XML representation of the VRT</p></li>
<li><p><code>vrt_src</code>: Path to the VRT file</p></li>
<li><p><code>srs</code>: Spatial reference system</p></li>
<li><p><code>bbox</code>: Bounding box (extent)</p></li>
<li><p><code>res</code>: Pixel resolution</p></li>
<li><p><code>assets</code>: Band names (e.g., ‚ÄúB02‚Äù, ‚ÄúB03‚Äù,
‚ÄúB04‚Äù)</p></li>
<li><p><code>date_time</code>: Timestamp(s)</p></li>
<li><p><code>no_data_val</code>: NoData value(s) for each band</p></li>
<li><p><code>pixfun</code>: Optional pixel function code</p></li>
<li><p><code>maskfun</code>: Optional mask function code</p></li>
<li><p><code>warped</code>: Whether the VRT has been spatially
aligned</p></li>
<li><p><code>is_remote</code>: Whether the data source is remote (e.g.,
S3)</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="vrt_collection-temporal-series-of-blocks">vrt_collection: Temporal Series of Blocks<a class="anchor" aria-label="anchor" href="#vrt_collection-temporal-series-of-blocks"></a>
</h3>
<p>A <strong><code>vrt_collection</code></strong> is a list of
<code>vrt_block</code> objects, typically representing a time series of
observations over the same geographic area.</p>
<p><strong>Key characteristics:</strong></p>
<ul>
<li><p>Contains multiple <code>vrt_block</code> objects (e.g., t1, t2,
t3, t4)</p></li>
<li><p>Each block typically has the same set of bands (e.g., B02, B03,
B04)</p></li>
<li><p>Blocks may have different timestamps</p></li>
<li><p>Blocks may have different spatial references and extents until
warped</p></li>
<li><p>Component blocks can be warped to a common grid using
<code><a href="../reference/vrt_warp.html">vrt_warp()</a></code></p></li>
<li><p>Inherits from <code>vrt_block</code>, so supports the same
operations</p></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Print collection summary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ex_collect</span><span class="op">)</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">&lt;VRT Collection&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["OSGB36 / British National Grid",GEOGCS["OSGB36",DATUM["Ordnance_Survey_of_Great_Britain_1936",SPHEROID["Airy 1830",6377563.396,299.3249646,AUTHORITY["EPSG","7001"]],AUTHORITY["EPSG","6277"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4277"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",49],PARAMETER["central_meridian",-2],PARAMETER["scale_factor",0.9996012717],PARAMETER["false_easting",400000],PARAMETER["false_northing",-100000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","27700"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span> <span style="color: #FF55FF; font-style: italic;">PROJCS["WGS 84 / UTM zone 30N",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-3],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","32630"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span> <span style="color: #FF55FF; font-style: italic;">PROJCS["unknown",GEOGCS["unknown",DATUM["Unknown based on WGS 84 ellipsoid",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]]],PRIMEM["Greenwich",0],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]]],PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["latitude_of_center",50.72],PARAMETER["longitude_of_center",-3.51],PARAMETER["false_easting",0],PARAMETER["false_northing",0],UNIT["metre",1],AXIS["Easting",EAST],AXIS["Northing",NORTH]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> NA</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Pixel res:</span> 19.9923198138287, 19.9923198138287</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Start Date:</span> 2020-01-01 10:15:30 UTC</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">End Date:</span> 2020-05-01 10:15:30 UTC</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Number of Items:</span> 5</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08, SCL</span></span>
<span></span>
<span><span class="co"># A collection is a list of blocks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">ex_collect</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span></span>
<span><span class="co"># Access individual blocks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ex_collect</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="co"># First time step</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">&lt;VRT Block&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">VRT XML: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, xml = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["OSGB36 / British National Grid",GEOGCS["OSGB36",DATUM["Ordnance_Survey_of_Great_Britain_1936",SPHEROID["Airy 1830",6377563.396,299.3249646,AUTHORITY["EPSG","7001"]],AUTHORITY["EPSG","6277"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4277"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",49],PARAMETER["central_meridian",-2],PARAMETER["scale_factor",0.9996012717],PARAMETER["false_easting",400000],PARAMETER["false_northing",-100000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","27700"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> 289813.58 88876.43 297031.04 95714.02</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Pixel res:</span> 19.9929669011164, 19.9929669011164</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08, SCL</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">No Data Value(s):</span> 0, 0, 0, 0, 0</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Date Time:</span> 2020-01-01 10:15:30 UTC</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ex_collect</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="co"># Second time step</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">&lt;VRT Block&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">VRT XML: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, xml = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["WGS 84 / UTM zone 30N",GEOGCS["WGS 84",DATUM["WGS_1984",SPHEROID["WGS 84",6378137,298.257223563,AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4326"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",0],PARAMETER["central_meridian",-3],PARAMETER["scale_factor",0.9996],PARAMETER["false_easting",500000],PARAMETER["false_northing",0],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","32630"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> 460436.9 5615438.2 467554.2 5622175.6</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Pixel res:</span> 19.9923198138287, 19.9923198138287</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08, SCL</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">No Data Value(s):</span> 0, 0, 0, 0, 0</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Date Time:</span> 2020-02-01 10:15:30 UTC</span></span></code></pre></div>
<p>A <code>vrt_collection</code> extends <code>vrt_block</code>
with:</p>
<ul>
<li><p><code>n_items</code>: Number of blocks in the collection</p></li>
<li><p>List structure where <code>[[1]]</code> or <code>$vrt</code>
contains the blocks</p></li>
<li><p>Aggregated metadata from all blocks (e.g., combined
timestamps)</p></li>
</ul>
<p><strong>Common workflow:</strong></p>
<p>Note that when we print the warped collection, we see that the
collections bounding box is returned rather than NA, indicating that the
collection has been warped to a common grid.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 2. Apply transformations (masking, scaling)</span></span>
<span><span class="va">ex_masked</span> <span class="op">&lt;-</span> <span class="va">ex_collect</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/vrt_set_maskfun.html">vrt_set_maskfun</a></span><span class="op">(</span></span>
<span>    mask_band <span class="op">=</span> <span class="st">"SCL"</span>,</span>
<span>    mask_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">8</span>, <span class="fl">9</span>, <span class="fl">10</span>, <span class="fl">11</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Align to common grid</span></span>
<span><span class="va">t_block</span> <span class="op">&lt;-</span> <span class="va">ex_collect</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">ex_warped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vrt_warp.html">vrt_warp</a></span><span class="op">(</span></span>
<span>  <span class="va">ex_masked</span>,</span>
<span>  t_srs <span class="op">=</span> <span class="va">t_block</span><span class="op">$</span><span class="va">srs</span>,</span>
<span>  te <span class="op">=</span> <span class="va">t_block</span><span class="op">$</span><span class="va">bbox</span>,</span>
<span>  tr <span class="op">=</span> <span class="va">t_block</span><span class="op">$</span><span class="va">res</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ex_warped</span><span class="op">)</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">&lt;VRT Collection&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Mask Function: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, maskfun = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["OSGB36 / British National Grid",GEOGCS["OSGB36",DATUM["Ordnance_Survey_of_Great_Britain_1936",SPHEROID["Airy 1830",6377563.396,299.3249646,AUTHORITY["EPSG","7001"]],AUTHORITY["EPSG","6277"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4277"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",49],PARAMETER["central_meridian",-2],PARAMETER["scale_factor",0.9996012717],PARAMETER["false_easting",400000],PARAMETER["false_northing",-100000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","27700"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> 289813.58 88876.43 297031.04 95714.02</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Pixel res:</span> 19.9929669011164, 19.9929669011164</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Start Date:</span> 2020-01-01 10:15:30 UTC</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">End Date:</span> 2020-05-01 10:15:30 UTC</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Number of Items:</span> 5</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08</span></span>
<span></span>
<span><span class="co"># 4. Compute or stack for further processing</span></span></code></pre></div>
<p>There are two functions which only support
<code>vrt_collection</code> objects: - <code><a href="../reference/multiband_reduce.html">multiband_reduce()</a></code>:
Apply band reductions that require information from across the band
range (e.g.¬†geometric median or medoid). -
<code><a href="../reference/singleband-many-to-many.html">singleband_m2m()</a></code>: Apply time-series pixel functions that
operate across time steps.</p>
<p>In these cases, the collection structure better supports data access
because, these operations are carried out by R, rather than GDAL.</p>
</div>
<div class="section level3">
<h3 id="vrt_stack-transposed-multi-temporal-view">vrt_stack: Transposed Multi-Temporal View<a class="anchor" aria-label="anchor" href="#vrt_stack-transposed-multi-temporal-view"></a>
</h3>
<p>A <strong><code>vrt_stack</code></strong> reorganizes a
<code>vrt_collection</code> by stacking all time steps into a single VRT
with multiple sources per original band.</p>
<p><strong>Key characteristics:</strong> - Transposes the collection
structure: think of a vrt collection being like a table with a wide
format and the stack being the long format.</p>
<ul>
<li><p>If a collection has 4 time steps and three bands, the resulting
stack will have 3 bands each with 4 sources (one per time
step).</p></li>
<li><p>Bands are grouped by original band name (all B02, then all B03,
etc.)</p></li>
<li><p>Enables temporal operations (e.g., median, mean) across time.
Note this can only be done at the band-level only, not across bands as
in <code><a href="../reference/multiband_reduce.html">multiband_reduce()</a></code>.</p></li>
<li><p>Single VRT file representing the entire time series</p></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Stack a warped collection</span></span>
<span><span class="va">ex_stack</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/vrt_stack.html">vrt_stack</a></span><span class="op">(</span><span class="va">ex_warped</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print stack info</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ex_stack</span><span class="op">)</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">VRT STACK</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">VRT XML: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, xml = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Mask Function: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, maskfun = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["OSGB36 / British National Grid",GEOGCS["OSGB36",DATUM["Ordnance_Survey_of_Great_Britain_1936",SPHEROID["Airy 1830",6377563.396,299.3249646,AUTHORITY["EPSG","7001"]],AUTHORITY["EPSG","6277"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4277"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",49],PARAMETER["central_meridian",-2],PARAMETER["scale_factor",0.9996012717],PARAMETER["false_easting",400000],PARAMETER["false_northing",-100000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","27700"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> 289813.58 88876.43 297031.04 95714.02</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Start Date:</span> 2020-01-01 10:15:30 UTC</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">End Date:</span> 2020-05-01 10:15:30 UTC</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Number of Items:</span> 5</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08</span></span>
<span></span>
<span><span class="co"># A stack consolidates all time steps into bands</span></span>
<span><span class="co"># If collection had 4 dates √ó 3 bands = 12 bands in stack</span></span></code></pre></div>
<p><strong>Structure comparison:</strong></p>
<p>This table summarizes the differences between the three data
structures for a typical STAC collection using Cloud Optimized GeoTIFFs
for each asset.</p>
<table class="table">
<colgroup>
<col width="26%">
<col width="35%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th>Structure</th>
<th>Organization</th>
<th>Example (4 dates, 3 bands)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>vrt_block</code></td>
<td>1 VRT file; N bands; N sources</td>
<td>[B02, B03, B04]</td>
</tr>
<tr class="even">
<td><code>vrt_collection</code></td>
<td>M VRT files; N bands; N sources</td>
<td>t1: [B02, B03, B04]<br>t2: [B02, B03, B04]<br>t3: [B02, B03,
B04]<br>t4: [B02, B03, B04]</td>
</tr>
<tr class="odd">
<td><code>vrt_stack</code></td>
<td>1 VRT; N bands; M sources per band</td>
<td>Band 1: [B02_t1, B02_t2, B02_t3, B02_t4]<br>Band 2: [B03_t1, B03_t2,
B03_t3, B03_t4]<br>Band 3: [B04_t1, B04_t2, B04_t3, B04_t4]</td>
</tr>
</tbody>
</table>
<p><strong>Why stack?</strong> Stacking enables pixel functions that
operate across time. The following example shows how to apply a temporal
median function across the stacked bands, returning a new
<code>vrt_block</code> with median values for each original band.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Apply temporal median</span></span>
<span><span class="va">tblock</span> <span class="op">&lt;-</span> <span class="va">ex_collect</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">median_composite</span> <span class="op">&lt;-</span> <span class="va">ex_stack</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/vrt_set_py_pixelfun.html">vrt_set_py_pixelfun</a></span><span class="op">(</span>pixfun <span class="op">=</span> <span class="fu"><a href="../reference/vrt_set_py_pixelfun.html">median_numpy</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/vrt_compute.html">vrt_compute</a></span><span class="op">(</span></span>
<span>    t_srs <span class="op">=</span> <span class="va">t_block</span><span class="op">$</span><span class="va">srs</span>,</span>
<span>    te <span class="op">=</span> <span class="va">t_block</span><span class="op">$</span><span class="va">bbox</span>,</span>
<span>    tr <span class="op">=</span> <span class="va">t_block</span><span class="op">$</span><span class="va">res</span>,</span>
<span>    recollect <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">median_composite</span><span class="op">)</span></span>
<span><span class="co">#&gt; ‚Üí <span style="color: #00BB00; font-weight: bold;">&lt;VRT Block&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">VRT XML: </span><span style="font-weight: bold;">[hidden]</span></span></span>
<span><span class="co">#&gt;   <span style="font-style: italic;">run </span><span style="font-weight: bold; font-style: italic;">print</span><span style="color: #D7AF00; font-style: italic;">(</span><span style="font-style: italic;">x, xml = </span><span style="color: #D75FAF; font-style: italic;">TRUE</span><span style="color: #D7AF00; font-style: italic;">)</span><span style="font-style: italic;"> to view</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt;  VRT SRS: </span></span></span>
<span><span class="co"><span style="color: #BBBB00; font-weight: bold;">#&gt; </span><span style="color: #FF55FF; font-style: italic;">PROJCS["OSGB36 / British National Grid",GEOGCS["OSGB36",DATUM["Ordnance_Survey_of_Great_Britain_1936",SPHEROID["Airy 1830",6377563.396,299.3249646,AUTHORITY["EPSG","7001"]],AUTHORITY["EPSG","6277"]],PRIMEM["Greenwich",0,AUTHORITY["EPSG","8901"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["EPSG","4277"]],PROJECTION["Transverse_Mercator"],PARAMETER["latitude_of_origin",49],PARAMETER["central_meridian",-2],PARAMETER["scale_factor",0.9996012717],PARAMETER["false_easting",400000],PARAMETER["false_northing",-100000],UNIT["metre",1,AUTHORITY["EPSG","9001"]],AXIS["Easting",EAST],AXIS["Northing",NORTH],AUTHORITY["EPSG","27700"]]</span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co"><span style="color: #FF55FF; font-style: italic;">#&gt; </span></span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Bounding Box:</span> 289798.06 88868.74 297035.51 95726.33</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Pixel res:</span> 19.9929669011164, 19.9929669011164</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Assets:</span> B02, B03, B04, B08</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">No Data Value(s):</span> 0, 0, 0, 0</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-weight: bold;">Date Time:</span> 2020-03-01 UTC</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="class-hierarchy">Class Hierarchy<a class="anchor" aria-label="anchor" href="#class-hierarchy"></a>
</h2>
<p>All three structures inherit from <code>vrt_block</code>:</p>
<pre><code>vrt_block (base class)
‚îú‚îÄ‚îÄ vrt_collection (extends vrt_block)
‚îÇ   ‚îú‚îÄ‚îÄ vrt_collection_warped (when warped = TRUE)
‚îÇ   ‚îî‚îÄ‚îÄ Contains: [[1]] = list of vrt_block objects
‚îî‚îÄ‚îÄ vrt_stack (extends vrt_block)
    ‚îú‚îÄ‚îÄ vrt_stack_warped (when warped = TRUE)
    ‚îî‚îÄ‚îÄ Contains: Bands with multiple sources (one per time step)</code></pre>
<p>This means:</p>
<ul>
<li><p>All structures support the same core operations
(<code><a href="../reference/vrt_warp.html">vrt_warp()</a></code>, <code><a href="../reference/vrt_set_maskfun.html">vrt_set_maskfun()</a></code>, etc.)</p></li>
<li><p>Collections and stacks have additional metadata
(<code>n_items</code>, aggregated timestamps)</p></li>
<li><p>Type checking ensures operations are valid for each
structure</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="other-key-concepts">Other Key Concepts<a class="anchor" aria-label="anchor" href="#other-key-concepts"></a>
</h2>
<div class="section level3">
<h3 id="virtual-vs-materialized">Virtual vs Materialized<a class="anchor" aria-label="anchor" href="#virtual-vs-materialized"></a>
</h3>
<ul>
<li><p><strong>Virtual</strong>: Operations stored as VRT XML, no data
processing yet</p></li>
<li><p><strong>Materialized</strong>: <code><a href="../reference/vrt_compute.html">vrt_compute()</a></code>
executes the pipeline and writes output</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="lazy-evaluation">Lazy Evaluation<a class="anchor" aria-label="anchor" href="#lazy-evaluation"></a>
</h3>
<p>Most operations return a new VRT structure immediately without
processing data. This enables:</p>
<ul>
<li>Building complex pipelines efficiently</li>
<li>Modifying pipelines before execution<br>
</li>
<li>Processing only what‚Äôs needed</li>
</ul>
<p><strong>Important distinction from other tools:</strong> Unlike
{gdalcubes} or Python libraries such as OpenDataCube and other
xarray-based tools, vrtility does not strictly enforce lazy evaluation.
VRT transformations are partially lazy‚Äîlimited processing occurs at each
step, but materialization happens at key points such as warping remote
data sources.</p>
<p><strong>Rationale:</strong> This design allows easier interaction
with data at each pipeline step, avoiding repeated downloads or
reprocessing during development.</p>
<p><strong>Remote data behavior:</strong> By default,
<code><a href="../reference/vrt_warp.html">vrt_warp()</a></code> downloads required data for the area of interest
from remote sources. Set <code>lazy = TRUE</code> to defer downloading
(useful for plotting or some exploratory analysis).</p>
</div>
<div class="section level3">
<h3 id="warped-flag">Warped Flag<a class="anchor" aria-label="anchor" href="#warped-flag"></a>
</h3>
<p>The <code>warped</code> flag indicates whether a VRT has been aligned
to a common grid:</p>
<ul>
<li><p><strong>Unwarped</strong>: Blocks may have different
SRS/resolutions/extents</p></li>
<li><p><strong>Warped</strong>: All blocks share the same SRS, extent,
and resolution</p></li>
</ul>
<p>Some operations (like <code><a href="../reference/vrt_stack.html">vrt_stack()</a></code>) require warped
collections.</p>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<ul>
<li>
<strong><code>vrt_block</code></strong>: Single raster with bands
(Figure 1, left panel)</li>
<li>
<strong><code>vrt_collection</code></strong>: Time series of blocks
(Figure 1, middle panel)</li>
<li>
<strong><code>vrt_stack</code></strong>: Transposed collection into
single VRT (Figure 1, right panel)</li>
<li>All structures support the same core operations through class
inheritance</li>
<li>Typical workflow: collect ‚Üí warp ‚Üí stack/compute</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugh Graham.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
