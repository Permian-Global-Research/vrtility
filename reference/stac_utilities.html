<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Query a STAC source — stac_query • vrtility</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Query a STAC source — stac_query"><meta name="description" content="A set of helper functions to query STAC APIs. These are very
thin wrappers around existing rstac functions, but provide some
convenience for common tasks."><meta property="og:description" content="A set of helper functions to query STAC APIs. These are very
thin wrappers around existing rstac functions, but provide some
convenience for common tasks."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vrtility</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cdse-sentinel-2.html">Copernicus Data Space Ecosystem Sentinel-2</a></li>
    <li><a class="dropdown-item" href="../articles/Digital-Earth-Africa-GeoMAD.html">Digital Earth Africa GeoMAD</a></li>
    <li><a class="dropdown-item" href="../articles/EOPF.html">EOPF Sentinel-2 Level-2A</a></li>
    <li><a class="dropdown-item" href="../articles/HLS.html">Harmonized Landsat Sentinel-2</a></li>
    <li><a class="dropdown-item" href="../articles/ndvi-timeseries.html">Creating NDVI Time Series from HLS Data</a></li>
    <li><a class="dropdown-item" href="../articles/OmniCloudMask.html">OmniCloudMask</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Permian-Global-Research/vrtility/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Query a STAC source</h1>
      <small class="dont-index">Source: <a href="https://github.com/Permian-Global-Research/vrtility/blob/main/R/stac-utils.R" class="external-link"><code>R/stac-utils.R</code></a></small>
      <div class="d-none name"><code>stac_utilities.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A set of helper functions to query STAC APIs. These are very
thin wrappers around existing <span class="pkg">rstac</span> functions, but provide some
convenience for common tasks.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">stac_query</span><span class="op">(</span></span>
<span>  <span class="va">bbox</span>,</span>
<span>  <span class="va">stac_source</span>,</span>
<span>  <span class="va">collection</span>,</span>
<span>  <span class="va">start_date</span>,</span>
<span>  <span class="va">end_date</span>,</span>
<span>  assets <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mpc_sign <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"planetarycomputer\\.microsoft\\.com"</span>, <span class="va">stac_source</span><span class="op">)</span>,</span>
<span>  drop_duplicates <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  check_collection <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sentinel2_stac_query</span><span class="op">(</span></span>
<span>  <span class="va">bbox</span>,</span>
<span>  <span class="va">start_date</span>,</span>
<span>  <span class="va">end_date</span>,</span>
<span>  assets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B01"</span>, <span class="st">"B02"</span>, <span class="st">"B03"</span>, <span class="st">"B04"</span>, <span class="st">"B05"</span>, <span class="st">"B06"</span>, <span class="st">"B07"</span>, <span class="st">"B08"</span>, <span class="st">"B8A"</span>, <span class="st">"B09"</span>, <span class="st">"B11"</span>,</span>
<span>    <span class="st">"B12"</span>, <span class="st">"SCL"</span><span class="op">)</span>,</span>
<span>  max_cloud_cover <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  stac_source <span class="op">=</span> <span class="st">"https://planetarycomputer.microsoft.com/api/stac/v1/"</span>,</span>
<span>  collection <span class="op">=</span> <span class="st">"sentinel-2-l2a"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">hls_stac_query</span><span class="op">(</span></span>
<span>  <span class="va">bbox</span>,</span>
<span>  <span class="va">start_date</span>,</span>
<span>  <span class="va">end_date</span>,</span>
<span>  assets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B01"</span>, <span class="st">"B02"</span>, <span class="st">"B03"</span>, <span class="st">"B04"</span>, <span class="st">"B05"</span>, <span class="st">"B06"</span>, <span class="st">"B07"</span>, <span class="st">"B08"</span>, <span class="st">"B8A"</span>, <span class="st">"B09"</span>, <span class="st">"B10"</span>,</span>
<span>    <span class="st">"B11"</span>, <span class="st">"B12"</span>, <span class="st">"Fmask"</span><span class="op">)</span>,</span>
<span>  max_cloud_cover <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  stac_source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"https://planetarycomputer.microsoft.com/api/stac/v1/"</span>,</span>
<span>    <span class="st">"https://cmr.earthdata.nasa.gov/stac/LPCLOUD/"</span><span class="op">)</span>,</span>
<span>  collection <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hls2-s30"</span>, <span class="st">"hls2-l30"</span>, <span class="st">"HLSS30_2.0"</span>, <span class="st">"HLSL30_2.0"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sentinel1_stac_query</span><span class="op">(</span></span>
<span>  <span class="va">bbox</span>,</span>
<span>  <span class="va">start_date</span>,</span>
<span>  <span class="va">end_date</span>,</span>
<span>  assets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hh"</span>, <span class="st">"hv"</span>, <span class="st">"vh"</span>, <span class="st">"vv"</span><span class="op">)</span>,</span>
<span>  orbit_state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"descending"</span>, <span class="st">"ascending"</span><span class="op">)</span>,</span>
<span>  stac_source <span class="op">=</span> <span class="st">"https://planetarycomputer.microsoft.com/api/stac/v1/"</span>,</span>
<span>  collection <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sentinel-1-rtc"</span>, <span class="st">"sentinel-1-grd"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stac_cloud_filter</span><span class="op">(</span><span class="va">items</span>, <span class="va">max_cloud_cover</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stac_orbit_filter</span><span class="op">(</span><span class="va">items</span>, orbit_state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"descending"</span>, <span class="st">"ascending"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stac_coverage_filter</span><span class="op">(</span><span class="va">items</span>, <span class="va">bbox</span>, min_coverage <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">sign_mpc_items</span><span class="op">(</span><span class="va">items</span>, subscription_key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"MPC_TOKEN"</span>, unset <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">stac_drop_duplicates</span><span class="op">(</span><span class="va">items</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-bbox">bbox<a class="anchor" aria-label="anchor" href="#arg-bbox"></a></dt>
<dd><p>A numeric vector of length 4 representing a bounding box</p></dd>


<dt id="arg-stac-source">stac_source<a class="anchor" aria-label="anchor" href="#arg-stac-source"></a></dt>
<dd><p>The STAC source to query</p></dd>


<dt id="arg-collection">collection<a class="anchor" aria-label="anchor" href="#arg-collection"></a></dt>
<dd><p>The collection to query</p></dd>


<dt id="arg-start-date">start_date<a class="anchor" aria-label="anchor" href="#arg-start-date"></a></dt>
<dd><p>The start date for the query</p></dd>


<dt id="arg-end-date">end_date<a class="anchor" aria-label="anchor" href="#arg-end-date"></a></dt>
<dd><p>The end date for the query</p></dd>


<dt id="arg-assets">assets<a class="anchor" aria-label="anchor" href="#arg-assets"></a></dt>
<dd><p>A character vector of the asset names to include</p></dd>


<dt id="arg-mpc-sign">mpc_sign<a class="anchor" aria-label="anchor" href="#arg-mpc-sign"></a></dt>
<dd><p>A logical indicating whether to sign the items using the
Planetary Computer API's signing method (only required if using the
Planetary Computer STAC API).</p></dd>


<dt id="arg-drop-duplicates">drop_duplicates<a class="anchor" aria-label="anchor" href="#arg-drop-duplicates"></a></dt>
<dd><p>A logical indicating whether to drop duplicate items
from the collection. Duplicates are identified based on identical bounding
boxes (with a precision of 4 decimal places) and datetime properties.
Duplicate items in the Microsoft Planetary Computer STAC API are a known
issue.</p></dd>


<dt id="arg-check-collection">check_collection<a class="anchor" aria-label="anchor" href="#arg-check-collection"></a></dt>
<dd><p>A logical, should the collection name be checked
against available collections in the <code>stac_source</code>? If FALSE,  the collection
is assumed to exist.</p></dd>


<dt id="arg-max-cloud-cover">max_cloud_cover<a class="anchor" aria-label="anchor" href="#arg-max-cloud-cover"></a></dt>
<dd><p>A numeric value of the maximum cloud cover percentage</p></dd>


<dt id="arg-orbit-state">orbit_state<a class="anchor" aria-label="anchor" href="#arg-orbit-state"></a></dt>
<dd><p>A character string of the orbit state to filter by</p></dd>


<dt id="arg-items">items<a class="anchor" aria-label="anchor" href="#arg-items"></a></dt>
<dd><p>A <span class="pkg">rstac</span> doc_items object</p></dd>


<dt id="arg-min-coverage">min_coverage<a class="anchor" aria-label="anchor" href="#arg-min-coverage"></a></dt>
<dd><p>A numeric value between 0 and 1 representing the minimum
coverage of the bounding box required to retain the item</p></dd>


<dt id="arg-subscription-key">subscription_key<a class="anchor" aria-label="anchor" href="#arg-subscription-key"></a></dt>
<dd><p>A subscription key associated with your MPC account.
This key will be automatically used if the environment variable <code>MPC_TOKEN</code>
is set.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <span class="pkg">rstac</span> doc_items object</p>
<p>A STACItemCollection object with signed assets url.</p>
<p>A <span class="pkg">rstac</span> doc_items object with duplicate items removed</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Using these functions to produce a <code>doc_items</code> object is optional;
if the user prefers the greater flexibility of using <span class="pkg">rstac</span> directly,
they are encouraged to do so. These functions are only intended to provide a
convenient way to interact with STAC APIs.</p>
<p>The Microsoft Planetary Computer (MPC) STAC API is a very convenient, large
and open catalogue of EO data. To access these assets, urls must be signed -
this can be done using <code>sign_mpc_items</code>,
<code><a href="https://brazil-data-cube.github.io/rstac/reference/items_sign_planetary_computer.html" class="external-link">items_sign_planetary_computer</a></code><code>, or with GDAL by setting the environment variable </code>VSICURL_PC_URL_SIGNING<code>to</code>YES`. see the examples for more details.</p>
<p><code>sentinel2_stac_query</code> facilitates the querying of the Sentinel-2
level 2A data from the Microsoft Planetary Computer STAC API (or other S2
STAC sources) catalogue to generate a Sentinel 2 rstac doc_items object.
This is a convenience function that saves you needing to remember the exact
stac source and name but is simply a thin wrapper around <code>stac_query</code> and
<code>stac_cloud_filter</code>. Checks are not performed on the stac source or
collection name; assets are checked following the collection query and will
fail if requested assets are not present in the collection. Note that some
STAC sources use different names for the Sentinel-2 level 2A assets and the
provided defaults may not work for all sources.</p>
<p>The <code>hls_stac_query</code> function generates a Harmonized Landsat Sentinel (HLS)
stac collection doc_items object. In order to access HLS data you will need a
NASA Earthdata account. You can create one at
<a href="https://urs.earthdata.nasa.gov/users/new" class="external-link">https://urs.earthdata.nasa.gov/users/new</a>. Once you have
an account, you can set your credentials using the <code>earthdatalogin</code> package
as shown in the examples.
You can alternatively use the Microsoft Planetary Computer STAC API to access
HLS data, which does not require an Earthdata account. Note that you must
specify the collection as <code>hls2-s30</code> or <code>hls2-l30</code> when using the
Planetary Computer STAC API and that the data is only available from 2020
onwards.</p>
<p>The <code>sentinel1_stac_query</code> function generates a Sentinel 1 stac collection
doc_items object. It allows you to query Sentinel 1 data from the Planetary
Computer STAC API. The function returns a collection of Sentinel 1 items
that can be used to generate a Sentinel 1 rstac doc_items object.</p>
<p>The <code>stac_cloud_filter</code> function filters a STAC item collection by cloud cover
percentage. It uses the <code>eo:cloud_cover</code> property to filter the items.
Items with a cloud cover percentage less than the specified <code>max_cloud_cover</code>
are retained.</p>
<p>The <code>stac_orbit_filter</code> function filters a STAC item collection by orbit
state. It uses the <code>sat:orbit_state</code> property to filter the items.
Items with an orbit state matching the specified <code>orbit_state</code> are retained.
It is intended for use with Sentinel-1 data.</p>
<p>The <code>stac_coverage_filter</code> function filters a STAC item collection by
minimum coverage of a bounding box. It calculates the area of intersection
between the bounding box and the item's bounding box, and retains items
where the area of intersection is greater than the specified <code>min_coverage</code>
of the bounding box area.</p>
<p>Microsoft no longer provide the ability to generate your own
subscription keys. This can be requested depending on the application; see
here for further details:
https://github.com/microsoft/PlanetaryComputer/issues/457. A key is not
required for data access and a more reliable way to ensure access is to
collocate the workload on the Azure West Europe region.</p>
<p>Unlike the <code><a href="https://brazil-data-cube.github.io/rstac/reference/items_sign_planetary_computer.html" class="external-link">rstac::items_sign_planetary_computer</a></code> function, this function
caches collection-level signing tokens for 45 minutes to avoid repeated
requests for the same collection within a short time period. This can avoid
429 (permission denied) errors when signing many items from the same
collection.</p>
<p>The <code>stac_drop_duplicates</code> function removes duplicate items from a STAC item
collection. Duplicates are identified based on identical bounding boxes (
with a precision of 4 decimal places), datetime properties and platform.
Duplicate items in the Microsoft Planetary Computer STAC API are a known
issue.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="va">s2_its</span> <span class="op">&lt;-</span> <span class="fu">stac_query</span><span class="op">(</span></span></span>
<span class="r-in"><span>  bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">12.386</span>, <span class="op">-</span><span class="fl">37.214</span>, <span class="op">-</span><span class="fl">12.186</span>, <span class="op">-</span><span class="fl">37.014</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  stac_source <span class="op">=</span> <span class="st">"https://planetarycomputer.microsoft.com/api/stac/v1/"</span>,</span></span>
<span class="r-in"><span>  collection <span class="op">=</span> <span class="st">"sentinel-2-l2a"</span>,</span></span>
<span class="r-in"><span>  start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span></span>
<span class="r-in"><span>  end_date <span class="op">=</span> <span class="st">"2023-01-31"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For Microsoft Planetary Computer (MPC) assets, sign the the items using the</span></span></span>
<span class="r-in"><span><span class="co"># MPC signing `sign_mpc_items()`:</span></span></span>
<span class="r-in"><span><span class="co"># or use GDAL by setting the following environment variable:</span></span></span>
<span class="r-in"><span><span class="co"># Sys.setenv("VSICURL_PC_URL_SIGNING" = "YES")</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="fu">sentinel2_stac_query</span><span class="op">(</span></span></span>
<span class="r-in"><span>  bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">12.386</span>, <span class="op">-</span><span class="fl">37.214</span>, <span class="op">-</span><span class="fl">12.186</span>, <span class="op">-</span><span class="fl">37.014</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span></span>
<span class="r-in"><span>  end_date <span class="op">=</span> <span class="st">"2023-01-31"</span>,</span></span>
<span class="r-in"><span>  max_cloud_cover <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>  assets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B02"</span>, <span class="st">"B03"</span>, <span class="st">"B04"</span>, <span class="st">"B08"</span>, <span class="st">"SCL"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="va">hls_query</span> <span class="op">&lt;-</span> <span class="fu">hls_stac_query</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">144.130</span>, <span class="op">-</span><span class="fl">7.725</span>, <span class="fl">144.470</span>, <span class="op">-</span><span class="fl">7.475</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span></span>
<span class="r-in"><span>  end_date <span class="op">=</span> <span class="st">"2023-12-31"</span>,</span></span>
<span class="r-in"><span>  assets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B04"</span>, <span class="st">"B03"</span>, <span class="st">"B02"</span>, <span class="st">"Fmask"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  collection <span class="op">=</span> <span class="st">"HLSS30_2.0"</span>,</span></span>
<span class="r-in"><span>  max_cloud_cover <span class="op">=</span> <span class="fl">35</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># in order to download these items (or call further vrt_x functions) you</span></span></span>
<span class="r-in"><span><span class="co"># will first need to set your credentials. The easiest way to do this is with</span></span></span>
<span class="r-in"><span><span class="co"># the `earthdatalogin` package. First set your EARTHDATA_USER and</span></span></span>
<span class="r-in"><span><span class="co"># EARTHDATA_PASSWORD environment variables and then run the following command:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">earthdatalogin</span><span class="fu">::</span><span class="fu"><a href="https://boettiger-lab.github.io/earthdatalogin/reference/edl_netrc.html" class="external-link">edl_netrc</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  username <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"EARTHDATA_USER"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"EARTHDATA_PASSWORD"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># interactive()</span></span></span>
<span class="r-in"><span><span class="fu">sentinel1_stac_query</span><span class="op">(</span></span></span>
<span class="r-in"><span>  bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">12.386</span>, <span class="op">-</span><span class="fl">37.214</span>, <span class="op">-</span><span class="fl">12.186</span>, <span class="op">-</span><span class="fl">37.014</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span></span>
<span class="r-in"><span>  end_date <span class="op">=</span> <span class="st">"2023-01-31"</span>,</span></span>
<span class="r-in"><span>  assets <span class="op">=</span> <span class="st">"vv"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugh Graham.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

