<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>plot a raster file or vrt_x object — plot.Rcpp_GDALRaster • vrtility</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="plot a raster file or vrt_x object — plot.Rcpp_GDALRaster"><meta name="description" content="A wrapper around gdalraster::plot_raster that simplifies the
process of plotting a raster file."><meta property="og:description" content="A wrapper around gdalraster::plot_raster that simplifies the
process of plotting a raster file."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vrtility</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cdse-sentinel-2.html">Copernicus Data Space Ecosystem Sentinel-2</a></li>
    <li><a class="dropdown-item" href="../articles/Digital-Earth-Africa-GeoMAD.html">Digital Earth Africa GeoMAD</a></li>
    <li><a class="dropdown-item" href="../articles/EOPF.html">EOPF Sentinel-2 Level-2A</a></li>
    <li><a class="dropdown-item" href="../articles/HLS.html">Harmonized Landsat Sentinel-2</a></li>
    <li><a class="dropdown-item" href="../articles/OmniCloudMask.html">OmniCloudMask</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Permian-Global-Research/vrtility/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>plot a raster file or <code>vrt_x</code> object</h1>
      <small class="dont-index">Source: <a href="https://github.com/Permian-Global-Research/vrtility/blob/main/R/plot-Rcpp-GDALRaster.R" class="external-link"><code>R/plot-Rcpp-GDALRaster.R</code></a>, <a href="https://github.com/Permian-Global-Research/vrtility/blob/main/R/plot-raster-src.R" class="external-link"><code>R/plot-raster-src.R</code></a></small>
      <div class="d-none name"><code>plot_raster.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A wrapper around <code><a href="https://usdaforestservice.github.io/gdalraster/reference/plot_raster.html" class="external-link">gdalraster::plot_raster</a></code> that simplifies the
process of plotting a raster file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'Rcpp_GDALRaster'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  xsize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ysize <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  bands <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  max_pixels <span class="op">=</span> <span class="fl">2.5e+07</span>,</span>
<span>  scale_values <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  col_tbl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxColorValue <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  minmax_def <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minmax_pct_cut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pixel_fn <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  main <span class="op">=</span> <span class="st">""</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"y"</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  na_col <span class="op">=</span> <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/rgb.html" class="external-link">rgb</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot_raster_src</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  bands <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  col <span class="op">=</span> <span class="fu">grDevices</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">hcl.colors</a></span><span class="op">(</span><span class="fl">10</span>, <span class="st">"Viridis"</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"description"</span>, <span class="st">"dttm"</span>, <span class="st">"none"</span><span class="op">)</span>,</span>
<span>  rgb_trans <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"linear"</span>, <span class="st">"gamma"</span>, <span class="st">"hist"</span>, <span class="st">"hist_all"</span><span class="op">)</span>,</span>
<span>  col_tbl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minmax_def <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  minmax_pct_cut <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  axes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  main <span class="op">=</span> <span class="st">""</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  legend <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">bands</span><span class="op">)</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span> <span class="cn">TRUE</span> <span class="kw">else</span> <span class="cn">FALSE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  na_col <span class="op">=</span> <span class="st">"#95acbe"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vrt_block'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, config_options <span class="op">=</span> <span class="fu"><a href="gdal_options.html">gdal_config_opts</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vrt_stack'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, config_options <span class="op">=</span> <span class="fu"><a href="gdal_options.html">gdal_config_opts</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vrt_stack_warped'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span>, config_options <span class="op">=</span> <span class="fu"><a href="gdal_options.html">gdal_config_opts</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vrt_collection'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">item</span>, <span class="va">...</span>, config_options <span class="op">=</span> <span class="fu"><a href="gdal_options.html">gdal_config_opts</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A path to a raster file</p></dd>


<dt id="arg-xsize">xsize<a class="anchor" aria-label="anchor" href="#arg-xsize"></a></dt>
<dd><p>Integer. Number of pixels in the x dimension for the output plot.
If <code>NULL</code>, uses the full raster width.</p></dd>


<dt id="arg-ysize">ysize<a class="anchor" aria-label="anchor" href="#arg-ysize"></a></dt>
<dd><p>Integer. Number of pixels in the y dimension for the output plot.
If <code>NULL</code>, uses the full raster height.</p></dd>


<dt id="arg-bands">bands<a class="anchor" aria-label="anchor" href="#arg-bands"></a></dt>
<dd><p>a numeric vector of band numbers to plot must be of length
1 or 3.</p></dd>


<dt id="arg-max-pixels">max_pixels<a class="anchor" aria-label="anchor" href="#arg-max-pixels"></a></dt>
<dd><p>Numeric. Maximum number of pixels to read. If
<code>xsize * ysize</code> exceeds this value, the raster will be downsampled.</p></dd>


<dt id="arg-scale-values">scale_values<a class="anchor" aria-label="anchor" href="#arg-scale-values"></a></dt>
<dd><p>Logical. Whether to apply scale and offset values
from the raster metadata.</p></dd>


<dt id="arg-col-tbl">col_tbl<a class="anchor" aria-label="anchor" href="#arg-col-tbl"></a></dt>
<dd><p>A data frame with the columns:
"VALUE", "RED", "GREEN", "BLUE".</p></dd>


<dt id="arg-maxcolorvalue">maxColorValue<a class="anchor" aria-label="anchor" href="#arg-maxcolorvalue"></a></dt>
<dd><p>Numeric. Maximum color value when using a color table.</p></dd>


<dt id="arg-normalize">normalize<a class="anchor" aria-label="anchor" href="#arg-normalize"></a></dt>
<dd><p>Logical. Whether to normalize pixel values to [0,1] range
before color mapping. Automatically disabled for discrete data.</p></dd>


<dt id="arg-minmax-def">minmax_def<a class="anchor" aria-label="anchor" href="#arg-minmax-def"></a></dt>
<dd><p>Numeric vector of min/max values for color scaling.
For RGB plots, should be length 6: c(min_r, min_g, min_b, max_r, max_g, max_b).</p></dd>


<dt id="arg-minmax-pct-cut">minmax_pct_cut<a class="anchor" aria-label="anchor" href="#arg-minmax-pct-cut"></a></dt>
<dd><p>Numeric vector of length 2. Percentile cutoff values
for color scaling (e.g., c(2, 98) for 2nd and 98th percentiles).</p></dd>


<dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>a character vector of colors to use when plotting a single band.
for example when sea presents as very dark.</p></dd>


<dt id="arg-pixel-fn">pixel_fn<a class="anchor" aria-label="anchor" href="#arg-pixel-fn"></a></dt>
<dd><p>Function to apply to pixel values before plotting.</p></dd>


<dt id="arg-xlim">xlim<a class="anchor" aria-label="anchor" href="#arg-xlim"></a></dt>
<dd><p>Numeric vector of length 2. X-axis limits in coordinate system units.</p></dd>


<dt id="arg-ylim">ylim<a class="anchor" aria-label="anchor" href="#arg-ylim"></a></dt>
<dd><p>Numeric vector of length 2. Y-axis limits in coordinate system units.</p></dd>


<dt id="arg-interpolate">interpolate<a class="anchor" aria-label="anchor" href="#arg-interpolate"></a></dt>
<dd><p>Logical. Whether to apply smoothing to the raster image.</p></dd>


<dt id="arg-axes">axes<a class="anchor" aria-label="anchor" href="#arg-axes"></a></dt>
<dd><p>Logical. Whether to draw axes and axis labels.</p></dd>


<dt id="arg-main">main<a class="anchor" aria-label="anchor" href="#arg-main"></a></dt>
<dd><p>Character string. Plot title.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Character string. X-axis label.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Character string. Y-axis label.</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>Logical. Whether to draw a color legend. Only supported for
single-band plots. Automatically detects discrete vs continuous data.</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Integer. Number of decimal places for legend labels.</p></dd>


<dt id="arg-na-col">na_col<a class="anchor" aria-label="anchor" href="#arg-na-col"></a></dt>
<dd><p>Color for NA/nodata pixels. Default is transparent.</p></dd>


<dt id="arg-mar">mar<a class="anchor" aria-label="anchor" href="#arg-mar"></a></dt>
<dd><p>Numeric vector of length 4. Additional margin adjustments
to add to the base margins when legend is enabled.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to <code><a href="https://rdrr.io/r/graphics/plot.window.html" class="external-link">plot.window</a></code>.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>a character string indicating what to use as the title of the
plot. One of "description", "dttm", or "none". If "description" the band
description (name) is used, if "dttm" the datetime of the block is used, if
"none" no title is used. Ignored if main is provided.</p></dd>


<dt id="arg-rgb-trans">rgb_trans<a class="anchor" aria-label="anchor" href="#arg-rgb-trans"></a></dt>
<dd><p>a character string indicating the type of RGB transformation
to apply when plotting 3 bands. One of "linear", "gamma", "hist", or
"hist_all". See details for more information.</p></dd>


<dt id="arg-config-options">config_options<a class="anchor" aria-label="anchor" href="#arg-config-options"></a></dt>
<dd><p>A named character vector of gdal config options to set
before attempting to read the VRT.</p></dd>


<dt id="arg-item">item<a class="anchor" aria-label="anchor" href="#arg-item"></a></dt>
<dd><p>The numeric index of the item, in the vrt_collection, to plot</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When plotting 3 bands, the <code>rgb_trans</code> parameter controls the type
of transformation applied to the RGB values before plotting. The options are:</p><ul><li><p>"linear": No transformation is applied (default).</p></li>
<li><p>"gamma": A gamma correction is applied to enhance mid-tone contrast.</p></li>
<li><p>"hist": Histogram equalization is applied to each band individually to
enhance contrast.</p></li>
<li><p>"hist_all": Histogram equalization is applied across all bands to enhance
overall contrast.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">s2_imgs</span> <span class="op">&lt;-</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/dir_ls.html" class="external-link">dir_ls</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"s2-data"</span>, package <span class="op">=</span> <span class="st">"vrtility"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ds</span> <span class="op">&lt;-</span> <span class="fu">methods</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/methods/new.html" class="external-link">new</a></span><span class="op">(</span><span class="fu">gdalraster</span><span class="fu">::</span><span class="va"><a href="https://usdaforestservice.github.io/gdalraster/reference/GDALRaster-class.html" class="external-link">GDALRaster</a></span>, <span class="va">s2_imgs</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit</a></span><span class="op">(</span><span class="va">ds</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">ds</span>,</span></span>
<span class="r-in"><span>  bands <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  legend <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error:</span> dataset is not open</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugh Graham.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

